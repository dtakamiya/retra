# Retra ユーザーマニュアル

Retra（レトラ）は、スクラムチームのためのリアルタイム・レトロスペクティブボードです。チームメンバーがブラウザから同時にアクセスし、ふりかえりをスムーズに進めることができます。

---

## 目次

- [クイックスタート](#クイックスタート)
- [ボードを作成する](#ボードを作成する)
- [ボードに参加する](#ボードに参加する)
- [フレームワークの種類](#フレームワークの種類)
- [フェーズの流れ](#フェーズの流れ)
  - [記入フェーズ（Writing）](#1-記入フェーズwriting)
  - [投票フェーズ（Voting）](#2-投票フェーズvoting)
  - [議論フェーズ（Discussion）](#3-議論フェーズdiscussion)
  - [アクションフェーズ（Action Items）](#4-アクションフェーズaction-items)
  - [完了フェーズ（Closed）](#5-完了フェーズclosed)
- [カード操作](#カード操作)
- [投票機能](#投票機能)
- [メモ機能](#メモ機能)
- [リアクション機能](#リアクション機能)
- [タイマー機能](#タイマー機能)
- [参加者とオンライン状態](#参加者とオンライン状態)
- [エクスポート機能](#エクスポート機能)
- [ファシリテーターと参加者の権限](#ファシリテーターと参加者の権限)
- [トラブルシューティング](#トラブルシューティング)

---

## クイックスタート

Retra を使ったふりかえりの基本的な流れは以下の通りです。

1. **ファシリテーターがボードを作成**し、共有URLをチームメンバーに送る
2. **メンバーがボードに参加**し、ニックネームを入力する
3. **記入フェーズ**で各自がカードに意見を書く
4. **投票フェーズ**で重要だと思うカードに投票する
5. **議論フェーズ**で投票数の多いカードを中心に議論し、メモを残す
6. **アクションフェーズ**で次のアクションを整理する
7. **完了フェーズ**で結果をエクスポートして記録する

![ホームページ](images/screenshot-01-homepage.png)

---

## ボードを作成する

1. ホームページで **「ボードを作成」** タブを選択します
2. **ボードタイトル**を入力します（例：「スプリント42 ふりかえり」）
3. **フレームワーク**を選択します（KPT / Fun Done Learn / 4Ls / Start Stop Continue）
4. **1人あたりの最大投票数**を設定します（1〜20、デフォルトは5票）
5. **「ボードを作成」** ボタンをクリックします

ボードを作成した人は自動的に**ファシリテーター**として参加します。

![ボード作成](images/01-home-create-board.png)

### ボードを共有する

ボード画面のヘッダーにある **「共有」** ボタンをクリックすると、ボードのURLがクリップボードにコピーされます。このURLをチャットやメールでチームメンバーに共有してください。

---

## ボードに参加する

### URLから参加する

ファシリテーターから共有されたURLをブラウザで開くと、ニックネーム入力画面が表示されます。

### コードから参加する

1. ホームページで **「ボードに参加」** タブを選択します
2. ボードのURLまたはコードを入力します
3. **「ボードに参加」** ボタンをクリックします

![ボード参加タブ](images/02-join-board-tab.png)

### ニックネームの入力

ボードに初めてアクセスすると、ニックネーム入力モーダルが表示されます。

- ニックネームは最大**20文字**まで入力できます
- 入力したら **「参加」** ボタンをクリックします
- ニックネームはカードやメモの投稿者として表示されます

![ニックネームモーダル](images/03-board-created-with-nickname-modal.png)

---

## フレームワークの種類

Retra は4つのレトロスペクティブ・フレームワークに対応しています。ボード作成時にチームに合ったものを選んでください。

### KPT

チームの活動を3つの視点で整理するシンプルなフレームワークです。

| カラム | 意味 | 書く内容 |
|--------|------|----------|
| **Keep** | 続けたいこと | うまくいっていること、継続したい取り組み |
| **Problem** | 問題点 | 困っていること、改善が必要なこと |
| **Try** | 試したいこと | 次に挑戦したいこと、改善案 |

### Fun Done Learn

経験を「楽しさ」「達成」「学び」の軸で整理するフレームワークです。

| カラム | 意味 | 書く内容 |
|--------|------|----------|
| **Fun** | 楽しかったこと | 楽しめた作業、モチベーションが上がったこと |
| **Done** | やり遂げたこと | 完了したタスク、達成できたこと |
| **Learn** | 学んだこと | 新しく学んだ知識やスキル |

### 4Ls

4つの「L」で始まる視点からふりかえるフレームワークです。

| カラム | 意味 | 書く内容 |
|--------|------|----------|
| **Liked** | 良かったこと | 良い経験、満足したこと |
| **Learned** | 学んだこと | 新しい発見や知見 |
| **Lacked** | 不足していたこと | 足りなかったリソースやスキル |
| **Longed For** | 欲しかったこと | あったら良かったもの、望んでいたこと |

### Start Stop Continue

今後のアクションを3つのカテゴリで整理するフレームワークです。

| カラム | 意味 | 書く内容 |
|--------|------|----------|
| **Start** | 始めたいこと | 新しく取り入れたいプラクティス |
| **Stop** | やめたいこと | 効果がない、やめるべき取り組み |
| **Continue** | 続けたいこと | 引き続き実施したい取り組み |

---

## フェーズの流れ

ふりかえりは5つのフェーズで順に進行します。フェーズの進行はファシリテーターのみが操作できます。

```
記入（Writing）→ 投票（Voting）→ 議論（Discussion）→ アクション（Action Items）→ 完了（Closed）
```

ヘッダーに現在のフェーズが表示されます。ファシリテーターは **次のフェーズへ進む** ボタンで遷移できます。

---

### 1. 記入フェーズ（Writing）

参加者全員がカラムにカードを追加するフェーズです。

![記入フェーズ](images/screenshot-04-cards-added.png)

**できること：**
- カードの作成（各カラムの **「＋」** ボタンから）
- 自分が書いたカードの編集・削除
- 自分のカードのドラッグ&ドロップによる並べ替え・カラム間移動

**操作方法：**
1. カラムの **「＋」** ボタンをクリック
2. テキストエリアに意見を入力
3. **Enter** キーで送信（**Shift+Enter** で改行）
4. または **「追加」** ボタンをクリック

---

### 2. 投票フェーズ（Voting）

重要だと思うカードに投票するフェーズです。

![投票フェーズ](images/screenshot-06-voting-phase.png)

**できること：**
- カードに投票する（👍 ボタンをクリック）
- 投票を取り消す（投票済みの 👍 ボタンを再度クリック）
- 残りの投票数を確認する

**投票のルール：**
- 1人あたりの最大投票数はボード作成時に設定されています（デフォルト5票）
- 同じカードに複数回投票することはできません
- 残りの投票数はサイドバーに表示されます

![投票結果](images/screenshot-07-voting-results.png)

---

### 3. 議論フェーズ（Discussion）

投票結果をもとにチームで議論するフェーズです。カードは投票数の多い順に自動ソートされます。

![議論フェーズ](images/screenshot-08-discussion-phase.png)

**できること：**
- カードにメモを追加する
- カードにリアクションを付ける
- ファシリテーターはカードをカラム間で移動できる

**できないこと：**
- カードの新規作成、編集、削除
- 投票の追加、取り消し

---

### 4. アクションフェーズ（Action Items）

議論をもとに次のアクションを整理するフェーズです。

![アクションフェーズ](images/screenshot-09-action-items-phase.png)

**できること：**
- カードにメモを追加する（アクションアイテムの記録に活用）
- カードにリアクションを付ける
- ファシリテーターはカードをカラム間で移動できる

---

### 5. 完了フェーズ（Closed）

ふりかえりが完了した状態です。すべての操作が読み取り専用になります。

![完了フェーズ](images/screenshot-10-closed-phase.png)

**できること：**
- ボード内容の閲覧
- エクスポート（CSV / Markdown / クリップボードコピー）

---

## カード操作

### カードの作成

- **フェーズ：** 記入フェーズのみ
- 各カラムの **「＋」** ボタンをクリックし、テキストを入力します
- **Enter** で送信、**Shift+Enter** で改行、**Escape** でキャンセル

### カードの編集

- **フェーズ：** 記入フェーズのみ
- **権限：** カードの投稿者のみ
- カードにマウスを乗せると鉛筆アイコンが表示されます
- クリックするとテキストを編集できます
- **Enter** で保存、**Escape** でキャンセル

### カードの削除

- **フェーズ：** 記入フェーズのみ
- **権限：** カードの投稿者またはファシリテーター
- カードにマウスを乗せるとゴミ箱アイコンが表示されます

### カードの移動（ドラッグ&ドロップ）

カードの左側に表示されるグリップアイコンを掴んでドラッグすると、カードの並べ替えやカラム間の移動ができます。

- **記入フェーズ：** 自分のカードのみドラッグ可能
- **議論・アクションフェーズ：** ファシリテーターのみドラッグ可能

---

## 投票機能

投票フェーズでカードに投票できます。

### 投票する

カードに表示される **👍 ボタン**をクリックすると1票が追加されます。投票済みのカードはボタンがカラムの色でハイライトされます。

### 投票を取り消す

投票済みの 👍 ボタンを再度クリックすると投票が取り消されます。

### 残り投票数の確認

サイドバーの参加者リストに **「投票: X/Y」**（使用済み/上限）と **「残り Z票」** が表示されます。

### 投票結果の表示

投票フェーズ以降は、各カードに投票数がバッジで表示されます。議論フェーズ以降ではより大きいサイズで表示されます。カードは投票数の多い順に自動的にソートされます。

---

## メモ機能

議論フェーズとアクションフェーズで利用できる機能です。議論の内容やアクションアイテムを記録するのに使います。

### メモを追加する

1. カードの **メッセージアイコン** をクリックしてメモセクションを展開
2. テキストエリアに内容を入力（最大2000文字）
3. **Enter** で送信（**Shift+Enter** で改行）

### メモを編集する

- メモにマウスを乗せると鉛筆アイコンが表示されます
- クリックして内容を修正し、チェックマークで保存

### メモを削除する

- メモにマウスを乗せるとゴミ箱アイコンが表示されます
- **権限：** メモの投稿者またはファシリテーター

### メモ数の確認

メモアイコンの横にメモの件数が表示されます。

---

## リアクション機能

カードに絵文字でリアクションを付けることができます。全フェーズで利用可能です。

### 使用できる絵文字

| 絵文字 | 用途の例 |
|--------|----------|
| 👍 | 賛同・同意 |
| ❤️ | 共感・支持 |
| 😂 | 面白い・楽しい |
| 🎉 | お祝い・達成 |
| 🤔 | 考え中・疑問 |
| 👀 | 注目・確認したい |

### リアクションを追加する

1. カードの **スマイルアイコン** をクリック
2. 絵文字パレットから選択

### リアクションを取り消す

リアクション済みの絵文字ボタンをクリックすると取り消されます。自分がリアクションした絵文字は色付きでハイライト表示されます。

---

## タイマー機能

ファシリテーターが各フェーズに時間制限を設けるために使用します。参加者全員に同じタイマーが表示されます。

![タイマー実行中](images/screenshot-11-timer-running.png)

### タイマーの操作（ファシリテーターのみ）

| 操作 | 説明 |
|------|------|
| **開始** | 分数を設定して「開始」をクリック（デフォルト5分） |
| **一時停止** | 実行中のタイマーを一時停止 |
| **再開** | 一時停止中のタイマーを再開 |
| **リセット** | タイマーを初期状態に戻す |

### タイマーの表示

- **実行中：** 青色の背景で残り時間を表示
- **残り30秒以下：** 赤色に変わり、時間切れが近いことを知らせます
- **時間切れ：** 赤色の背景で「時間切れ！」と表示されます

タイマーはサイドバー（PC）または画面下部のバー（モバイル）に表示されます。

---

## 参加者とオンライン状態

### 参加者リスト

サイドバーに参加者の一覧が表示されます。

- **青色のドット：** オンライン
- **グレーのドット：** オフライン
- **ファシリテーターバッジ：** ファシリテーターに表示

参加者数は **「参加者（オンライン数/総数）」** の形式で表示されます。

### オンライン状態

WebSocket接続によりリアルタイムで更新されます。ブラウザを閉じると自動的にオフラインになります。

---

## エクスポート機能

ボードの内容を外部に出力できます。ヘッダーの **エクスポートボタン** からメニューを開きます。

### エクスポート形式

| 形式 | 説明 | 用途 |
|------|------|------|
| **CSV** | カンマ区切りファイル（.csv） | ExcelやGoogle Sheetsで開く |
| **Markdown** | マークダウンファイル（.md） | ドキュメント管理、Wiki |
| **クリップボードにコピー** | Markdown形式でコピー | メールやチャットに貼り付け |

### エクスポートに含まれる内容

- フレームワークの全カラムとカード
- 各カードの投票数
- メモ
- リアクション

---

## ファシリテーターと参加者の権限

ボードを作成した人が自動的にファシリテーターになります。

| 機能 | 参加者 | ファシリテーター |
|------|:------:|:----------------:|
| カードを作成（記入フェーズ） | ○ | ○ |
| 自分のカードを編集（記入フェーズ） | ○ | ○ |
| 他人のカードを削除（記入フェーズ） | ✗ | ○ |
| 自分のカードをドラッグ（記入フェーズ） | ○ | ○ |
| カードを移動（議論・アクションフェーズ） | ✗ | ○ |
| 投票する（投票フェーズ） | ○ | ○ |
| メモを追加（議論・アクションフェーズ） | ○ | ○ |
| 他人のメモを削除 | ✗ | ○ |
| リアクションを追加 | ○ | ○ |
| フェーズを進める | ✗ | ○ |
| タイマーを操作する | ✗ | ○ |
| エクスポートする | ○ | ○ |

---

## トラブルシューティング

### 「接続が切れました。再接続中...」と表示される

画面上部に黄色いバナーが表示された場合、ネットワーク接続が切れています。

- インターネット接続を確認してください
- 通常は自動的に再接続されます
- 再接続後、最新の状態に自動更新されます

### ボードが見つからない

URLやコードが正しいか確認してください。ボードが存在しない場合は「ボードが見つかりません」ページが表示されます。

![ボードが見つからない](images/11-board-not-found.png)

### カードが作成できない

- 記入フェーズ以外ではカードを作成できません
- ファシリテーターにフェーズを確認してください

### 投票できない

- 投票フェーズ以外では投票できません
- 残りの投票数が0の場合、これ以上投票できません
- 不要な投票を取り消して投票し直すことができます

### メモが追加できない

- メモは議論フェーズとアクションフェーズでのみ追加できます

### ドラッグ&ドロップができない

- 記入フェーズでは自分のカードのみドラッグできます
- 議論・アクションフェーズではファシリテーターのみドラッグできます
- 投票・完了フェーズではドラッグ&ドロップは無効です

### フェーズを進められない

- フェーズの遷移はファシリテーターのみが操作できます
- ファシリテーターはヘッダーの次フェーズボタンをクリックしてください
